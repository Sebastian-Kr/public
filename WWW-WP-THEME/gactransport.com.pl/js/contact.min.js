$(document).ready(function(){function t(){var t=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#ffffff"},{visibility:"on"}]}];if(screen.width<668)var e=10;else var e=11;var n=window.location.href+"/wp-content/themes/prgrm-theme/img/pin.svg";$("#map").gmap3({map:{options:{key:"AIzaSyAM5tRX5DeWa2vUi7txHfvEPD5wykq4n5o",center:[50.040183,20.222837],zoom:e,styles:t,scrollwheel:!1,navigationControl:!1,mapTypeControl:!0,scaleControl:!1,draggable:!0}},marker:{values:[{latLng:[50.040183,20.222837],data:"ul. Brzeska 28/7, 32-005 NiepoÅ‚omice",options:{icon:n,animation:google.maps.Animation.BOUNCE}}],options:{draggable:!1},events:{mouseover:function(t,e,n){var o=$(this).gmap3("get"),i=$(this).gmap3({get:{name:"infowindow"}});i?(i.open(o,t),i.setContent(n.data)):$(this).gmap3({infowindow:{anchor:t,options:{content:n.data}}})}}}}),console.log("mapa generatae")}var e=!1,n=$("#map").offset().top;$(window).scroll(function(){$(window).scrollTop()>n-1e3&&!e&&(t(),e=!0)})}),function(t,e){function n(t){return"object"==typeof t}function o(t){return"string"==typeof t}function i(t){return"number"==typeof t}function a(t){return t===e}function r(){q=google.maps,U||(U={verbose:!1,queryLimit:{attempt:5,delay:250,random:250},classes:function(){var e={};return t.each("Map Marker InfoWindow Circle Rectangle OverlayView StreetViewPanorama KmlLayer TrafficLayer TransitLayer BicyclingLayer GroundOverlay StyledMapType ImageMapType".split(" "),function(t,n){e[n]=q[n]}),e}(),map:{mapTypeId:q.MapTypeId.ROADMAP,center:[50.054493,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:6e4,timeout:5e3}}})}function s(t,e){return a(t)?"gmap3_"+(e?z+1:++z):t}function l(t){var e,n=q.version.split(".");for(t=t.split("."),e=0;e<n.length;e++)n[e]=parseInt(n[e],10);for(e=0;e<t.length;e++){if(t[e]=parseInt(t[e],10),!n.hasOwnProperty(e))return!1;if(n[e]<t[e])return!1}return!0}function u(e,n,o,i,a){function r(n,i){n&&t.each(n,function(t,n){var r=e,s=n;R(n)&&(r=n[0],s=n[1]),i(o,t,function(t){s.apply(r,[a||o,t,l])})})}var s=n.td||{},l={id:i,data:s.data,tag:s.tag};r(s.events,q.event.addListener),r(s.onces,q.event.addListenerOnce)}function d(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n}function c(t,e){var n,o=arguments;for(n=2;n<o.length;n++)if(e in o[n]&&o[n].hasOwnProperty(e))return void(t[e]=o[n][e])}function p(e,n){var o,i,a=["data","tag","id","events","onces"],r={};if(e.td)for(o in e.td)e.td.hasOwnProperty(o)&&"options"!==o&&"values"!==o&&(r[o]=e.td[o]);for(i=0;i<a.length;i++)c(r,a[i],n,e.td);return r.options=t.extend({},e.opts||{},n.options||{}),r}function f(){if(U.verbose){var t,e=[];if(window.console&&Z(console.error)){for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}else{for(e="",t=0;t<arguments.length;t++)e+=arguments[t].toString()+" ";alert(e)}}}function g(t){return(i(t)||o(t))&&""!==t&&!isNaN(t)}function h(t){var e,o=[];if(!a(t))if(n(t))if(i(t.length))o=t;else for(e in t)o.push(t[e]);else o.push(t);return o}function v(e){if(e)return Z(e)?e:(e=h(e),function(o){var i;if(a(o))return!1;if(n(o)){for(i=0;i<o.length;i++)if(t.inArray(o[i],e)>=0)return!0;return!1}return t.inArray(o,e)>=0})}function y(t,e,n){var i=e?t:null;return!t||o(t)?i:t.latLng?y(t.latLng):t instanceof q.LatLng?t:g(t.lat)?new q.LatLng(t.lat,t.lng):!n&&R(t)&&g(t[0])&&g(t[1])?new q.LatLng(t[0],t[1]):i}function m(t){var e,n;return!t||t instanceof q.LatLngBounds?t||null:(R(t)?2===t.length?(e=y(t[0]),n=y(t[1])):4===t.length&&(e=y([t[0],t[1]]),n=y([t[2],t[3]])):"ne"in t&&"sw"in t?(e=y(t.ne),n=y(t.sw)):"n"in t&&"e"in t&&"s"in t&&"w"in t&&(e=y([t.n,t.e]),n=y([t.s,t.w])),e&&n?new q.LatLngBounds(n,e):null)}function w(t,e,n,i,a){var r=!!n&&y(i.td,!1,!0),s=r?{latLng:r}:!!i.td.address&&(o(i.td.address)?{address:i.td.address}:i.td.address),l=!!s&&V.get(s),u=this;s?(a=a||0,l?(i.latLng=l.results[0].geometry.location,i.results=l.results,i.status=l.status,e.apply(t,[i])):(s.location&&(s.location=y(s.location)),s.bounds&&(s.bounds=m(s.bounds)),M().geocode(s,function(o,r){r===q.GeocoderStatus.OK?(V.store(s,{results:o,status:r}),i.latLng=o[0].geometry.location,i.results=o,i.status=r,e.apply(t,[i])):r===q.GeocoderStatus.OVER_QUERY_LIMIT&&a<U.queryLimit.attempt?setTimeout(function(){w.apply(u,[t,e,n,i,a+1])},U.queryLimit.delay+Math.floor(Math.random()*U.queryLimit.random)):(f("geocode failed",r,s),i.latLng=i.results=!1,i.status=r,e.apply(t,[i]))}))):(i.latLng=y(i.td,!1,!0),e.apply(t,[i]))}function L(e,n,o,i){function a(){do{s++}while(s<e.length&&!("address"in e[s]));if(s>=e.length)return void o.apply(n,[i]);w(r,function(n){delete n.td,t.extend(e[s],n),a.apply(r,[])},!0,{td:e[s]})}var r=this,s=-1;a()}function b(t,e,n){var o=!1;navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){o||(o=!0,n.latLng=new q.LatLng(i.coords.latitude,i.coords.longitude),e.apply(t,[n]))},function(){o||(o=!0,n.latLng=!1,e.apply(t,[n]))},n.opts.getCurrentPosition):(n.latLng=!1,e.apply(t,[n]))}function x(t){var e,o=!1;if(n(t)&&t.hasOwnProperty("get")){for(e in t)if("get"!==e)return!1;o=!t.get.hasOwnProperty("callback")}return o}function M(){return N.geocoder||(N.geocoder=new q.Geocoder),N.geocoder}function I(){var t=[];this.get=function(e){if(t.length){var o,i,a,r,s,l=d(e);for(o=0;o<t.length;o++){for(r=t[o],s=l.length===r.keys.length,i=0;i<l.length&&s;i++)a=l[i],(s=a in r.request)&&(s=n(e[a])&&"equals"in e[a]&&Z(e[a])?e[a].equals(r.request[a]):e[a]===r.request[a]);if(s)return r.results}}},this.store=function(e,n){t.push({request:e,keys:d(e),results:n})}}function P(){var t=[],e=this;e.empty=function(){return!t.length},e.add=function(e){t.push(e)},e.get=function(){return!!t.length&&t[0]},e.ack=function(){t.shift()}}function k(){function e(t){return{id:t.id,name:t.name,object:t.obj,tag:t.tag,data:t.data}}function n(t){Z(t.setMap)&&t.setMap(null),Z(t.remove)&&t.remove(),Z(t.free)&&t.free(),t=null}var o={},i={},r=this;r.add=function(t,e,n,a){var l=t.td||{},u=s(l.id);return o[e]||(o[e]=[]),u in i&&r.clearById(u),i[u]={obj:n,sub:a,name:e,id:u,tag:l.tag,data:l.data},o[e].push(u),u},r.getById=function(t,n,o){var a=!1;return t in i&&(a=n?i[t].sub:o?e(i[t]):i[t].obj),a},r.get=function(t,n,a,r){var s,l,u=v(a);if(!o[t]||!o[t].length)return null;for(s=o[t].length;s;)if(s--,(l=o[t][n?s:o[t].length-s-1])&&i[l]){if(u&&!u(i[l].tag))continue;return r?e(i[l]):i[l].obj}return null},r.all=function(t,n,r){var s=[],l=v(n),u=function(t){var n,a;for(n=0;n<o[t].length;n++)if((a=o[t][n])&&i[a]){if(l&&!l(i[a].tag))continue;s.push(r?e(i[a]):i[a].obj)}};if(t in o)u(t);else if(a(t))for(t in o)u(t);return s},r.rm=function(t,e,n){var a,s;if(!o[t])return!1;if(e)if(n)for(a=o[t].length-1;a>=0&&(s=o[t][a],!e(i[s].tag));a--);else for(a=0;a<o[t].length&&(s=o[t][a],!e(i[s].tag));a++);else a=n?o[t].length-1:0;return a in o[t]&&r.clearById(o[t][a],a)},r.clearById=function(t,e){if(t in i){var r,s=i[t].name;for(r=0;a(e)&&r<o[s].length;r++)t===o[s][r]&&(e=r);return n(i[t].obj),i[t].sub&&n(i[t].sub),delete i[t],o[s].splice(e,1),!0}return!1},r.objGetById=function(t){var e,n;if(o.clusterer)for(n in o.clusterer)if(!1!==(e=i[o.clusterer[n]].obj.getById(t)))return e;return!1},r.objClearById=function(t){var e;if(o.clusterer)for(e in o.clusterer)if(i[o.clusterer[e]].obj.clearById(t))return!0;return null},r.clear=function(t,e,n,i){var a,s,l,u=v(i);if(t&&t.length)t=h(t);else{t=[];for(a in o)t.push(a)}for(s=0;s<t.length;s++)if(l=t[s],e)r.rm(l,u,!0);else if(n)r.rm(l,u,!1);else for(;r.rm(l,u,!1););},r.objClear=function(e,n,a,r){var s;if(o.clusterer&&(t.inArray("marker",e)>=0||!e.length))for(s in o.clusterer)i[o.clusterer[s]].obj.clear(n,a,r)}}function B(e,n,i){function a(){var t;for(t in i)if(i.hasOwnProperty(t)&&!s.hasOwnProperty(t))return t}var r,s={},l=this,u={latLng:{map:!1,marker:!1,infowindow:!1,circle:!1,overlay:!1,getlatlng:!1,getmaxzoom:!1,getelevation:!1,streetviewpanorama:!1,getaddress:!0},geoloc:{getgeoloc:!0}};o(i)&&(i=function(t){var e={};return e[t]={},e}(i)),l.run=function(){for(var o,l;o=a();){if(Z(e[o]))return r=o,l=t.extend(!0,{},U[o]||{},i[o].options||{}),void(o in u.latLng?i[o].values?L(i[o].values,e,e[o],{td:i[o],opts:l,session:s}):w(e,e[o],u.latLng[o],{td:i[o],opts:l,session:s}):o in u.geoloc?b(e,e[o],{td:i[o],opts:l,session:s}):e[o].apply(e,[{td:i[o],opts:l,session:s}]));s[o]=null}n.apply(e,[i,s])},l.ack=function(t){s[r]=t,l.run.apply(l,[])}}function T(){return N.ds||(N.ds=new q.DirectionsService),N.ds}function O(){return N.dms||(N.dms=new q.DistanceMatrixService),N.dms}function j(){return N.mzs||(N.mzs=new q.MaxZoomService),N.mzs}function C(){return N.es||(N.es=new q.ElevationService),N.es}function E(t,e){function n(){var t=this;return t.onAdd=function(){},t.onRemove=function(){},t.draw=function(){},U.classes.OverlayView.apply(t,[])}n.prototype=U.classes.OverlayView.prototype;var o=new n;return o.setMap(t),o}function S(e,o,i){function a(t){S[t]||(delete D[t].options.map,S[t]=new U.classes.Marker(D[t].options),u(e,{td:D[t]},S[t],D[t].id))}function r(){if(!(m=A.getProjection()))return void setTimeout(function(){r.apply(B,[])},25);P=!0,T.push(q.event.addListener(o,"zoom_changed",f)),T.push(q.event.addListener(o,"bounds_changed",f)),h()}function l(t){n(O[t])?(Z(O[t].obj.setMap)&&O[t].obj.setMap(null),Z(O[t].obj.remove)&&O[t].obj.remove(),Z(O[t].shadow.remove)&&O[t].obj.remove(),Z(O[t].shadow.setMap)&&O[t].shadow.setMap(null),delete O[t].obj,delete O[t].shadow):S[t]&&S[t].setMap(null),delete O[t]}function d(){var t,e,n,o,i,a,r,s,l=Math.cos,u=Math.sin,d=arguments;return d[0]instanceof q.LatLng?(t=d[0].lat(),n=d[0].lng(),d[1]instanceof q.LatLng?(e=d[1].lat(),o=d[1].lng()):(e=d[1],o=d[2])):(t=d[0],n=d[1],d[2]instanceof q.LatLng?(e=d[2].lat(),o=d[2].lng()):(e=d[2],o=d[3])),i=Math.PI*t/180,a=Math.PI*n/180,r=Math.PI*e/180,s=Math.PI*o/180,6371e3*Math.acos(Math.min(l(i)*l(r)*l(a)*l(s)+l(i)*u(a)*l(r)*u(s)+u(i)*u(r),1))}function c(){var t=d(o.getCenter(),o.getBounds().getNorthEast());return new q.Circle({center:o.getCenter(),radius:1.25*t}).getBounds()}function p(){var t,e={};for(t in O)e[t]=!0;return e}function f(){clearTimeout(y),y=setTimeout(h,25)}function g(t){var e=m.fromLatLngToDivPixel(t),n=m.fromDivPixelToLatLng(new q.Point(e.x+i.radius,e.y-i.radius)),o=m.fromDivPixelToLatLng(new q.Point(e.x-i.radius,e.y+i.radius));return new q.LatLngBounds(o,n)}function h(){if(!x&&!I&&P){var e,n,a,r,s,u,d,f,h,v,y,m=!1,b=[],B={},T=o.getZoom(),j="maxZoom"in i&&T>i.maxZoom,C=p();for(M=!1,T>3&&(s=c(),m=s.getSouthWest().lng()<s.getNorthEast().lng()),e=0;e<D.length;e++)!D[e]||m&&!s.contains(D[e].options.position)||w&&!w(_[e])||b.push(e);for(;;){for(e=0;B[e]&&e<b.length;)e++;if(e===b.length)break;if(r=[],k&&!j){y=10;do{for(f=r,r=[],y--,d=f.length?s.getCenter():D[b[e]].options.position,s=g(d),n=e;n<b.length;n++)B[n]||s.contains(D[b[n]].options.position)&&r.push(n)}while(f.length<r.length&&r.length>1&&y)}else for(n=e;n<b.length;n++)if(!B[n]){r.push(n);break}for(u={indexes:[],ref:[]},h=v=0,a=0;a<r.length;a++)B[r[a]]=!0,u.indexes.push(b[r[a]]),u.ref.push(b[r[a]]),h+=D[b[r[a]]].options.position.lat(),v+=D[b[r[a]]].options.position.lng();h/=r.length,v/=r.length,u.latLng=new q.LatLng(h,v),u.ref=u.ref.join("-"),u.ref in C?delete C[u.ref]:(1===r.length&&(O[u.ref]=!0),L(u))}t.each(C,function(t){l(t)}),I=!1}}var y,m,w,L,b,x=!1,M=!1,I=!1,P=!1,k=!0,B=this,T=[],O={},j={},C={},S=[],D=[],_=[],A=E(o,i.radius);r(),B.getById=function(t){return t in j&&(a(j[t]),S[j[t]])},B.rm=function(t){var e=j[t];S[e]&&S[e].setMap(null),delete S[e],S[e]=!1,delete D[e],D[e]=!1,delete _[e],_[e]=!1,delete j[t],delete C[e],M=!0},B.clearById=function(t){if(t in j)return B.rm(t),!0},B.clear=function(t,e,n){var o,i,a,r,s,l=[],u=v(n);for(t?(o=D.length-1,i=-1,a=-1):(o=0,i=D.length,a=1),r=o;r!==i&&(!D[r]||u&&!u(D[r].tag)||(l.push(C[r]),!e&&!t));r+=a);for(s=0;s<l.length;s++)B.rm(l[s])},B.add=function(t,e){t.id=s(t.id),B.clearById(t.id),j[t.id]=S.length,C[S.length]=t.id,S.push(null),D.push(t),_.push(e),M=!0},B.addMarker=function(t,n){n=n||{},n.id=s(n.id),B.clearById(n.id),n.options||(n.options={}),n.options.position=t.getPosition(),u(e,{td:n},t,n.id),j[n.id]=S.length,C[S.length]=n.id,S.push(t),D.push(n),_.push(n.data||{}),M=!0},B.td=function(t){return D[t]},B.value=function(t){return _[t]},B.marker=function(t){return t in S&&(a(t),S[t])},B.markerIsSet=function(t){return Boolean(S[t])},B.setMarker=function(t,e){S[t]=e},B.store=function(t,e,n){O[t.ref]={obj:e,shadow:n}},B.free=function(){var e;for(e=0;e<T.length;e++)q.event.removeListener(T[e]);T=[],t.each(O,function(t){l(t)}),O={},t.each(D,function(t){D[t]=null}),D=[],t.each(S,function(t){S[t]&&(S[t].setMap(null),delete S[t])}),S=[],t.each(_,function(t){delete _[t]}),_=[],j={},C={}},B.filter=function(t){w=t,h()},B.enable=function(t){k!==t&&(k=t,h())},B.display=function(t){L=t},B.error=function(t){b=t},B.beginUpdate=function(){x=!0},B.endUpdate=function(){x=!1,M&&h()},B.autofit=function(t){var e;for(e=0;e<D.length;e++)D[e]&&t.extend(D[e].options.position)}}function D(t,e){var n=this;n.id=function(){return t},n.filter=function(t){e.filter(t)},n.enable=function(){e.enable(!0)},n.disable=function(){e.enable(!1)},n.add=function(t,n,o){o||e.beginUpdate(),e.addMarker(t,n),o||e.endUpdate()},n.getById=function(t){return e.getById(t)},n.clearById=function(t,n){var o;return n||e.beginUpdate(),o=e.clearById(t),n||e.endUpdate(),o},n.clear=function(t,n,o,i){i||e.beginUpdate(),e.clear(t,n,o),i||e.endUpdate()}}function _(e,n,o,i){var a=this,r=[];U.classes.OverlayView.call(a),a.setMap(e),a.onAdd=function(){var e=a.getPanes();n.pane in e&&t(e[n.pane]).append(i),t.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(e,n){r.push(q.event.addDomListener(i[0],n,function(e){t.Event(e).stopPropagation(),q.event.trigger(a,n,[e]),a.draw()}))}),r.push(q.event.addDomListener(i[0],"contextmenu",function(e){t.Event(e).stopPropagation(),q.event.trigger(a,"rightclick",[e]),a.draw()}))},a.getPosition=function(){return o},a.setPosition=function(t){o=t,a.draw()},a.draw=function(){var t=a.getProjection().fromLatLngToDivPixel(o);i.css("left",t.x+n.offset.x+"px").css("top",t.y+n.offset.y+"px")},a.onRemove=function(){var t;for(t=0;t<r.length;t++)q.event.removeListener(r[t]);i.remove()},a.hide=function(){i.hide()},a.show=function(){i.show()},a.toggle=function(){i&&(i.is(":visible")?a.show():a.hide())},a.toggleDOM=function(){a.setMap(a.getMap()?null:e)},a.getDOMElement=function(){return i[0]}}function A(i){function r(){!b&&(b=M.get())&&b.run()}function d(){b=null,M.ack(),r.call(x)}function c(t){var e,n=t.td.callback;n&&(e=Array.prototype.slice.call(arguments,1),Z(n)?n.apply(i,e):R(n)&&Z(n[1])&&n[1].apply(n[0],e))}function g(t,e,n){n&&u(i,t,e,n),c(t,e),b.ack(e)}function v(e,n){n=n||{};var o=n.td&&n.td.options?n.td.options:0;E?o&&(o.center&&(o.center=y(o.center)),E.setOptions(o)):(o=n.opts||t.extend(!0,{},U.map,o||{}),o.center=e||y(o.center),E=new U.classes.Map(i.get(0),o))}function w(n){var o,a,r=new S(i,E,n),s={},l={},d=[],c=/^[0-9]+$/;for(a in n)c.test(a)?(d.push(1*a),l[a]=n[a],l[a].width=l[a].width||0,l[a].height=l[a].height||0):s[a]=n[a];return d.sort(function(t,e){return t>e}),o=s.calculator?function(e){var n=[];return t.each(e,function(t,e){n.push(r.value(e))}),s.calculator.apply(i,[n])}:function(t){return t.length},r.error(function(){f.apply(x,arguments)}),r.display(function(a){var c,p,f,g,h,v,m=o(a.indexes);if(n.force||m>1)for(c=0;c<d.length;c++)d[c]<=m&&(p=l[d[c]]);p?(h=p.offset||[-p.width/2,-p.height/2],f=t.extend({},s),f.options=t.extend({pane:"overlayLayer",content:p.content?p.content.replace("CLUSTER_COUNT",m):"",offset:{x:("x"in h?h.x:h[0])||0,y:("y"in h?h.y:h[1])||0}},s.options||{}),g=x.overlay({td:f,opts:f.options,latLng:y(a)},!0),f.options.pane="floatShadow",f.options.content=t(document.createElement("div")).width(p.width+"px").height(p.height+"px").css({cursor:"pointer"}),v=x.overlay({td:f,opts:f.options,latLng:y(a)},!0),s.data={latLng:y(a),markers:[]},t.each(a.indexes,function(t,e){s.data.markers.push(r.value(e)),r.markerIsSet(e)&&r.marker(e).setMap(null)}),u(i,{td:s},v,e,{main:g,shadow:v}),r.store(a,g,v)):t.each(a.indexes,function(t,e){r.marker(e).setMap(E)})}),r}function L(e,n,o){var a=[],r="values"in e.td;if(r||(e.td.values=[{options:e.opts}]),!e.td.values.length)return void g(e,!1);v(),t.each(e.td.values,function(t,r){var s,l,d,c,f=p(e,r);if(f.options[o])if(f.options[o][0][0]&&R(f.options[o][0][0]))for(l=0;l<f.options[o].length;l++)for(d=0;d<f.options[o][l].length;d++)f.options[o][l][d]=y(f.options[o][l][d]);else for(l=0;l<f.options[o].length;l++)f.options[o][l]=y(f.options[o][l]);f.options.map=E,c=new q[n](f.options),a.push(c),s=I.add({td:f},n.toLowerCase(),c),u(i,{td:f},c,s)}),g(e,r?a:a[0])}var b,x=this,M=new P,I=new k,E=null;x._plan=function(t){var e;for(e=0;e<t.length;e++)M.add(new B(x,d,t[e]));r()},x.map=function(t){v(t.latLng,t),u(i,t,E),g(t,E)},x.destroy=function(t){I.clear(),i.empty(),E&&(E=null),g(t,!0)},x.overlay=function(e,n){var o=[],a="values"in e.td;return a||(e.td.values=[{latLng:e.latLng,options:e.opts}]),e.td.values.length?(_.__initialised||(_.prototype=new U.classes.OverlayView,_.__initialised=!0),t.each(e.td.values,function(a,r){var s,l,d=p(e,r),c=t(document.createElement("div")).css({border:"none",borderWidth:0,position:"absolute"});c.append(d.options.content),l=new _(E,d.options,y(d)||y(r),c),o.push(l),c=null,n||(s=I.add(e,"overlay",l),u(i,{td:d},l,s))}),n?o[0]:void g(e,a?o:o[0])):void g(e,!1)},x.marker=function(e){var n,o,a,r="values"in e.td,l=!E;return r||(e.opts.position=e.latLng||y(e.opts.position),e.td.values=[{options:e.opts}]),e.td.values.length?(l&&v(),e.td.cluster&&!E.getBounds()?void q.event.addListenerOnce(E,"bounds_changed",function(){x.marker.apply(x,[e])}):void(e.td.cluster?(e.td.cluster instanceof D?(o=e.td.cluster,a=I.getById(o.id(),!0)):(a=w(e.td.cluster),o=new D(s(e.td.id,!0),a),I.add(e,"clusterer",o,a)),a.beginUpdate(),t.each(e.td.values,function(t,n){var o=p(e,n);o.options.position=y(o.options.position?o.options.position:n),o.options.position&&(o.options.map=E,l&&(E.setCenter(o.options.position),l=!1),a.add(o,n))}),a.endUpdate(),g(e,o)):(n=[],t.each(e.td.values,function(t,o){var a,r,s=p(e,o);s.options.position=y(s.options.position?s.options.position:o),s.options.position&&(s.options.map=E,l&&(E.setCenter(s.options.position),l=!1),r=new U.classes.Marker(s.options),n.push(r),a=I.add({td:s},"marker",r),u(i,{td:s},r,a))}),g(e,r?n:n[0])))):void g(e,!1)},x.getroute=function(t){t.opts.origin=y(t.opts.origin,!0),t.opts.destination=y(t.opts.destination,!0),T().route(t.opts,function(e,n){c(t,n===q.DirectionsStatus.OK&&e,n),b.ack()})},x.getdistance=function(t){var e;for(t.opts.origins=h(t.opts.origins),e=0;e<t.opts.origins.length;e++)t.opts.origins[e]=y(t.opts.origins[e],!0);for(t.opts.destinations=h(t.opts.destinations),e=0;e<t.opts.destinations.length;e++)t.opts.destinations[e]=y(t.opts.destinations[e],!0);O().getDistanceMatrix(t.opts,function(e,n){c(t,n===q.DistanceMatrixStatus.OK&&e,n),b.ack()})},x.infowindow=function(n){var o=[],r="values"in n.td;r||(n.latLng&&(n.opts.position=n.latLng),n.td.values=[{options:n.opts}]),t.each(n.td.values,function(t,s){var l,d,c=p(n,s);c.options.position=y(c.options.position?c.options.position:s.latLng),E||v(c.options.position),d=new U.classes.InfoWindow(c.options),d&&(a(c.open)||c.open)&&(r?d.open(E,c.anchor||e):d.open(E,c.anchor||(n.latLng?e:n.session.marker?n.session.marker:e))),o.push(d),l=I.add({td:c},"infowindow",d),u(i,{td:c},d,l)}),g(n,r?o:o[0])},x.circle=function(e){var n=[],o="values"in e.td;if(o||(e.opts.center=e.latLng||y(e.opts.center),e.td.values=[{options:e.opts}]),!e.td.values.length)return void g(e,!1);t.each(e.td.values,function(t,o){var a,r,s=p(e,o);s.options.center=y(s.options.center?s.options.center:o),E||v(s.options.center),s.options.map=E,r=new U.classes.Circle(s.options),n.push(r),a=I.add({td:s},"circle",r),u(i,{td:s},r,a)}),g(e,o?n:n[0])},x.getaddress=function(t){c(t,t.results,t.status),b.ack()},x.getlatlng=function(t){c(t,t.results,t.status),b.ack()},x.getmaxzoom=function(t){j().getMaxZoomAtLatLng(t.latLng,function(e){c(t,e.status===q.MaxZoomStatus.OK&&e.zoom,status),b.ack()})},x.getelevation=function(t){var e,n=[],o=function(e,n){c(t,n===q.ElevationStatus.OK&&e,n),b.ack()};if(t.latLng)n.push(t.latLng);else for(n=h(t.td.locations||[]),e=0;e<n.length;e++)n[e]=y(n[e]);if(n.length)C().getElevationForLocations({locations:n},o);else{if(t.td.path&&t.td.path.length)for(e=0;e<t.td.path.length;e++)n.push(y(t.td.path[e]));n.length?C().getElevationAlongPath({path:n,samples:t.td.samples},o):b.ack()}},x.defaults=function(e){t.each(e.td,function(e,o){n(U[e])?U[e]=t.extend({},U[e],o):U[e]=o}),b.ack(!0)},x.rectangle=function(e){var n=[],o="values"in e.td;if(o||(e.td.values=[{options:e.opts}]),!e.td.values.length)return void g(e,!1);t.each(e.td.values,function(t,o){var a,r,s=p(e,o);s.options.bounds=m(s.options.bounds?s.options.bounds:o),E||v(s.options.bounds.getCenter()),s.options.map=E,r=new U.classes.Rectangle(s.options),n.push(r),a=I.add({td:s},"rectangle",r),u(i,{td:s},r,a)}),g(e,o?n:n[0])},x.polyline=function(t){L(t,"Polyline","path")},x.polygon=function(t){L(t,"Polygon","paths")},x.trafficlayer=function(t){v();var e=I.get("trafficlayer");e||(e=new U.classes.TrafficLayer,e.setMap(E),I.add(t,"trafficlayer",e)),g(t,e)},x.transitlayer=function(t){v();var e=I.get("transitlayer");e||(e=new U.classes.TransitLayer,e.setMap(E),I.add(t,"transitlayer",e)),g(t,e)},x.bicyclinglayer=function(t){v();var e=I.get("bicyclinglayer");e||(e=new U.classes.BicyclingLayer,e.setMap(E),I.add(t,"bicyclinglayer",e)),g(t,e)},x.groundoverlay=function(t){t.opts.bounds=m(t.opts.bounds),t.opts.bounds&&v(t.opts.bounds.getCenter());var e,n=new U.classes.GroundOverlay(t.opts.url,t.opts.bounds,t.opts.opts);n.setMap(E),e=I.add(t,"groundoverlay",n),g(t,n,e)},x.streetviewpanorama=function(e){e.opts.opts||(e.opts.opts={}),e.latLng?e.opts.opts.position=e.latLng:e.opts.opts.position&&(e.opts.opts.position=y(e.opts.opts.position)),e.td.divId?e.opts.container=document.getElementById(e.td.divId):e.opts.container&&(e.opts.container=t(e.opts.container).get(0));var n,o=new U.classes.StreetViewPanorama(e.opts.container,e.opts.opts);o&&E.setStreetView(o),n=I.add(e,"streetviewpanorama",o),g(e,o,n)},x.kmllayer=function(e){var n=[],o="values"in e.td;if(o||(e.td.values=[{options:e.opts}]),!e.td.values.length)return void g(e,!1);t.each(e.td.values,function(t,o){var a,r,s,d=p(e,o);E||v(),s=d.options,d.options.opts&&(s=d.options.opts,d.options.url&&(s.url=d.options.url)),s.map=E,r=l("3.10")?new U.classes.KmlLayer(s):new U.classes.KmlLayer(s.url,s),n.push(r),a=I.add({td:d},"kmllayer",r),u(i,{td:d},r,a)}),g(e,o?n:n[0])},x.panel=function(e){v();var n,o,r=0,s=0,l=t(document.createElement("div"));l.css({position:"absolute",zIndex:1e3,visibility:"hidden"}),e.opts.content&&(o=t(e.opts.content),l.append(o),i.first().prepend(l),a(e.opts.left)?a(e.opts.right)?e.opts.center&&(r=(i.width()-o.width())/2):r=i.width()-o.width()-e.opts.right:r=e.opts.left,a(e.opts.top)?a(e.opts.bottom)?e.opts.middle&&(s=(i.height()-o.height())/2):s=i.height()-o.height()-e.opts.bottom:s=e.opts.top,l.css({top:s,left:r,visibility:"visible"})),n=I.add(e,"panel",l),g(e,l,n),l=null},x.directionsrenderer=function(e){e.opts.map=E;var n,o=new q.DirectionsRenderer(e.opts);e.td.divId?o.setPanel(document.getElementById(e.td.divId)):e.td.container&&o.setPanel(t(e.td.container).get(0)),n=I.add(e,"directionsrenderer",o),g(e,o,n)},x.getgeoloc=function(t){g(t,t.latLng)},x.styledmaptype=function(t){v();var e=new U.classes.StyledMapType(t.td.styles,t.opts);E.mapTypes.set(t.td.id,e),g(t,e)},x.imagemaptype=function(t){v();var e=new U.classes.ImageMapType(t.opts);E.mapTypes.set(t.td.id,e),g(t,e)},x.autofit=function(e){var n=new q.LatLngBounds;t.each(I.all(),function(t,e){e.getPosition&&e.getPosition()?n.extend(e.getPosition()):e.getBounds&&e.getBounds()?(n.extend(e.getBounds().getNorthEast()),n.extend(e.getBounds().getSouthWest())):e.getPaths&&e.getPaths()?e.getPaths().forEach(function(t){t.forEach(function(t){n.extend(t)})}):e.getPath&&e.getPath()?e.getPath().forEach(function(t){n.extend(t)}):e.getCenter&&e.getCenter()?n.extend(e.getCenter()):"function"==typeof D&&e instanceof D&&(e=I.getById(e.id(),!0))&&e.autofit(n)}),n.isEmpty()||E.getBounds()&&E.getBounds().equals(n)||("maxZoom"in e.td&&q.event.addListenerOnce(E,"bounds_changed",function(){this.getZoom()>e.td.maxZoom&&this.setZoom(e.td.maxZoom)}),E.fitBounds(n)),g(e,!0)},x.clear=function(e){if(o(e.td)){if(I.clearById(e.td)||I.objClearById(e.td))return void g(e,!0);e.td={name:e.td}}e.td.id?t.each(h(e.td.id),function(t,e){I.clearById(e)||I.objClearById(e)}):(I.clear(h(e.td.name),e.td.last,e.td.first,e.td.tag),I.objClear(h(e.td.name),e.td.last,e.td.first,e.td.tag)),g(e,!0)},x.get=function(n,i,a){var r,s,l=i?n:n.td;if(i||(a=l.full),o(l)?!1===(s=I.getById(l,!1,a)||I.objGetById(l))&&(r=l,l={}):r=l.name,"map"===r&&(s=E),s||(s=[],l.id?(t.each(h(l.id),function(t,e){s.push(I.getById(e,!1,a)||I.objGetById(e))}),R(l.id)||(s=s[0])):(t.each(r?h(r):[e],function(e,n){var o;l.first?(o=I.get(n,!1,l.tag,a))&&s.push(o):l.all?t.each(I.all(n,l.tag,a),function(t,e){s.push(e)}):(o=I.get(n,!0,l.tag,a))&&s.push(o)}),l.all||R(r)||(s=s[0]))),s=R(s)||!l.all?s:[s],i)return s;g(n,s)},x.exec=function(e){t.each(h(e.td.func),function(n,o){t.each(x.get(e.td,!0,!e.td.hasOwnProperty("full")||e.td.full),function(t,e){o.call(i,e)})}),g(e,!0)},x.trigger=function(e){if(o(e.td))q.event.trigger(E,e.td);else{var n=[E,e.td.eventName];e.td.var_args&&t.each(e.td.var_args,function(t,e){n.push(e)}),q.event.trigger.apply(q.event,n)}c(e),b.ack()}}var U,q,z=0,Z=t.isFunction,R=t.isArray,N={},V=new I;t.fn.gmap3=function(){var e,n=[],o=!0,i=[];for(r(),e=0;e<arguments.length;e++)arguments[e]&&n.push(arguments[e]);return n.length||n.push("map"),t.each(this,function(){var e=t(this),a=e.data("gmap3");o=!1,a||(a=new A(e),e.data("gmap3",a)),1!==n.length||"get"!==n[0]&&!x(n[0])?a._plan(n):"get"===n[0]?i.push(a.get("map",!0)):i.push(a.get(n[0].get,!0,n[0].get.full))}),i.length?1===i.length?i[0]:i:this}}(jQuery);